{"version":3,"sources":["index.tsx"],"names":["jiopayEvents","NativeEventEmitter","NativeModules","JiopayEventEmitter","removeSubscriptions","removeAllListeners","JiopayCheckout","open","options","successCallback","errorCallback","Promise","resolve","reject","addListener","data","resolveFn","rejectFn","RNJiopayCheckout"],"mappings":"AAAA;;;;;;;AAEA;;AAEA,MAAMA,YAAY,GAAG,IAAIC,+BAAJ,CAAuBC,2BAAcC,kBAArC,CAArB;;AAEA,MAAMC,mBAAmB,GAAG,MAAM;AAChCJ,EAAAA,YAAY,CAACK,kBAAb,CAAgC,yBAAhC;AACAL,EAAAA,YAAY,CAACK,kBAAb,CAAgC,uBAAhC;AACD,CAHD;;AAKA,MAAMC,cAAN,CAAqB;AACR,SAAJC,IAAI,CAACC,OAAD,EAAeC,eAAf,EAAqCC,aAArC,EAAyD;AAClE,WAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5Cb,MAAAA,YAAY,CAACc,WAAb,CAAyB,yBAAzB,EAAqDC,IAAD,IAAU;AAC5D,YAAIC,SAAS,GAAGP,eAAe,IAAIG,OAAnC;AACAI,QAAAA,SAAS,CAACD,IAAD,CAAT;AACAX,QAAAA,mBAAmB;AACpB,OAJD;AAKAJ,MAAAA,YAAY,CAACc,WAAb,CAAyB,uBAAzB,EAAmDC,IAAD,IAAU;AAC1D,YAAIE,QAAQ,GAAGP,aAAa,IAAIG,MAAhC;AACAI,QAAAA,QAAQ,CAACF,IAAD,CAAR;AACAX,QAAAA,mBAAmB;AACpB,OAJD;;AAKAF,iCAAcgB,gBAAd,CAA+BX,IAA/B,CAAoCC,OAApC;AACD,KAZM,CAAP;AAaD;;AAfkB;;eAkBNF,c","sourcesContent":["'use strict';\n\nimport { NativeEventEmitter, NativeModules } from 'react-native';\n\nconst jiopayEvents = new NativeEventEmitter(NativeModules.JiopayEventEmitter);\n\nconst removeSubscriptions = () => {\n  jiopayEvents.removeAllListeners('Jiopay::PAYMENT_SUCCESS');\n  jiopayEvents.removeAllListeners('Jiopay::PAYMENT_ERROR');\n};\n\nclass JiopayCheckout {\n  static open(options: any, successCallback: any, errorCallback: any) {\n    return new Promise(function (resolve, reject) {\n      jiopayEvents.addListener('Jiopay::PAYMENT_SUCCESS', (data) => {\n        let resolveFn = successCallback || resolve;\n        resolveFn(data);\n        removeSubscriptions();\n      });\n      jiopayEvents.addListener('Jiopay::PAYMENT_ERROR', (data) => {\n        let rejectFn = errorCallback || reject;\n        rejectFn(data);\n        removeSubscriptions();\n      });\n      NativeModules.RNJiopayCheckout.open(options);\n    });\n  }\n}\n\nexport default JiopayCheckout;\n"]}